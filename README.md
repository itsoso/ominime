# ğŸ¯ OmniMe - macOS è¾“å…¥è¿½è¸ªç³»ç»Ÿ

> è®°å½•ä½ åœ¨ä¸åŒåº”ç”¨ä¸­çš„æ¯ä¸€æ¬¡è¾“å…¥ï¼Œæ™ºèƒ½æ±‡æ€»åˆ†æä½ çš„ä¸€å¤©ã€‚

![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)
![Platform](https://img.shields.io/badge/Platform-macOS-lightgrey.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- **ğŸ” å…¨å±€è¾“å…¥ç›‘å¬** - ä½¿ç”¨ CGEventTap ç›‘å¬æ‰€æœ‰é”®ç›˜è¾“å…¥
- **ğŸ“± åº”ç”¨è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«å½“å‰æ´»è·ƒåº”ç”¨ï¼ˆå¾®ä¿¡ã€Cursorã€Obsidianã€Kim ç­‰ï¼‰
- **ğŸ“Š åˆ†ç±»ç»Ÿè®¡** - æŒ‰åº”ç”¨ã€æŒ‰æ—¶é—´æ®µåˆ†ç±»æ±‡æ€»è¾“å…¥æ•°æ®
- **ğŸ“ æ¯æ—¥æŠ¥å‘Š** - è‡ªåŠ¨ç”Ÿæˆæ¯æ—¥è¾“å…¥æ±‡æ€»æŠ¥å‘Š
- **ğŸ¯ ä¸»çº¿æ¢³ç†** - æ™ºèƒ½æå–ä¸€å¤©çš„ä¸»çº¿æ´»åŠ¨
- **ğŸ’¡ AI å»ºè®®** - å¯é€‰æ¥å…¥ OpenAI ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
- **ğŸ–¥ï¸ Menu Bar åº”ç”¨** - çŠ¶æ€æ é©»ç•™ï¼Œéšæ—¶æŸ¥çœ‹ç»Ÿè®¡
- **ğŸ”’ æœ¬åœ°å­˜å‚¨** - æ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¿æŠ¤éšç§

## ğŸ“¦ å®‰è£…

### 1. å…‹éš†é¡¹ç›®

```bash
cd /Users/liqiuhua/work/ominime
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. å®‰è£…é¡¹ç›®

```bash
pip install -e .
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ğŸŒ Web åå°ç®¡ç†ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨ Web åå°
ominime web

# æŒ‡å®šç«¯å£
ominime web -p 3000

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
ominime web --reload
```

å¯åŠ¨åè®¿é—® http://127.0.0.1:8080 æŸ¥çœ‹ä»ªè¡¨æ¿ï¼š
- ğŸ“Š æ¯æ—¥è¾“å…¥ç»Ÿè®¡
- ğŸ“± åº”ç”¨åˆ†å¸ƒå›¾è¡¨
- ğŸ¯ ä¸»çº¿æ´»åŠ¨æ¢³ç†
- ğŸ“ æ™ºèƒ½æ€»ç»“å»ºè®®
- ğŸ“‹ è¾“å…¥è®°å½•è¯¦æƒ…

### Menu Bar åº”ç”¨

```bash
# å¯åŠ¨ Menu Bar åº”ç”¨
ominime

# æˆ–è€…
python -m ominime.main
```

å¯åŠ¨åï¼ŒçŠ¶æ€æ ä¼šå‡ºç° âŒ¨ï¸ å›¾æ ‡ï¼Œç‚¹å‡»å¯ä»¥ï¼š
- å¼€å§‹/æš‚åœè®°å½•
- æŸ¥çœ‹ä»Šæ—¥ç»Ÿè®¡
- æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š

### å‘½ä»¤è¡Œæ¨¡å¼

```bash
# å‘½ä»¤è¡Œå®æ—¶ç›‘æ§
ominime monitor

# æŸ¥çœ‹ä»Šæ—¥æŠ¥å‘Š
ominime report

# æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæŠ¥å‘Š
ominime report -d 2026-01-08

# æŸ¥çœ‹æœ€è¿‘7å¤©ç»Ÿè®¡
ominime stats

# å¯¼å‡ºæ•°æ®
ominime export
ominime export -d 2026-01-08 -o report.json
```

## ğŸ” æƒé™è®¾ç½®

é¦–æ¬¡è¿è¡Œéœ€è¦æˆäºˆ**è¾…åŠ©åŠŸèƒ½æƒé™**ï¼š

1. æ‰“å¼€ã€Œç³»ç»Ÿåå¥½è®¾ç½®ã€
2. è¿›å…¥ã€Œéšç§ä¸å®‰å…¨æ€§ã€â†’ã€Œè¾…åŠ©åŠŸèƒ½ã€
3. ç‚¹å‡»å·¦ä¸‹è§’ğŸ”’è§£é”
4. æ·»åŠ å¹¶å‹¾é€‰ OmniMeï¼ˆæˆ– Terminal/iTermï¼‰

> âš ï¸ æ²¡æœ‰æ­¤æƒé™ï¼Œç¨‹åºæ— æ³•ç›‘å¬é”®ç›˜è¾“å…¥

## ğŸ“Š æŠ¥å‘Šç¤ºä¾‹

```
ğŸ“… 2026-01-08 å‘¨å›› è¾“å…¥æ±‡æ€»
========================================

ğŸ“Š æ€»è®¡: 15,234 å­—ç¬¦ | 6 åº”ç”¨ | 23 ä¼šè¯
â±ï¸  æ´»è·ƒæ—¶é—´: 4å°æ—¶32åˆ†é’Ÿ

ğŸ“± åº”ç”¨åˆ†å¸ƒ:
------------------------------
  Cursor
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 8,932å­— (58.6%)
  å¾®ä¿¡
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 3,245å­— (21.3%)
  Obsidian
    â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1,567å­— (10.3%)
  Safari
    â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 980å­— (6.4%)

ğŸ¯ ä»Šæ—¥ä¸»çº¿æ´»åŠ¨:
  1. ä»£ç å¼€å‘ (8,932 å­—ç¬¦)
  2. å³æ—¶é€šè®¯ (3,245 å­—ç¬¦)
  3. ç¬”è®°å†™ä½œ (1,567 å­—ç¬¦)

ğŸ“ æ€»ç»“:
  ä»Šæ—¥ä¸»è¦ç²¾åŠ›æŠ•å…¥åœ¨ä»£ç å¼€å‘ä¸Šï¼Œå®Œæˆäº†è®¤è¯æ¨¡å—çš„å¼€å‘ã€‚
  ä¸å›¢é˜Ÿè¿›è¡Œäº†é¡¹ç›®è¿›åº¦æ²Ÿé€šï¼Œæ•´ç†äº†ä¼šè®®ç¬”è®°ã€‚

ğŸ’¡ å»ºè®®:
  ğŸ’¡ ä»£ç è¾“å…¥å æ¯”å¾ˆé«˜ï¼Œè®°å¾—é€‚å½“ä¼‘æ¯çœ¼ç›å’Œæ‰‹è…•
  â° ä»Šæ—¥æ´»è·ƒæ—¶é—´è¾ƒé•¿ï¼Œæ³¨æ„åŠ³é€¸ç»“åˆ
```

## âš™ï¸ é…ç½®

é…ç½®æ–‡ä»¶ä½äº `~/.ominime/config.json`ï¼š

```json
{
  "ai_enabled": false,
  "openai_model": "gpt-4o-mini",
  "app_aliases": {
    "com.tencent.xinWeChat": "å¾®ä¿¡",
    "com.todesktop.230313mzl4w4u92": "Cursor",
    "md.obsidian": "Obsidian"
  },
  "ignored_apps": [
    "com.apple.loginwindow"
  ],
  "session_timeout": 300,
  "min_record_length": 1
}
```

### å¯ç”¨ AI åŠŸèƒ½

1. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export OPENAI_API_KEY="your-api-key"
```

2. ä¿®æ”¹é…ç½®å¯ç”¨ AIï¼š
```json
{
  "ai_enabled": true
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ominime/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ ominime/
â”‚       â”œâ”€â”€ __init__.py       # åŒ…åˆå§‹åŒ–
â”‚       â”œâ”€â”€ main.py           # ä¸»å…¥å£
â”‚       â”œâ”€â”€ config.py         # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ keyboard_listener.py  # é”®ç›˜ç›‘å¬
â”‚       â”œâ”€â”€ app_tracker.py    # åº”ç”¨è¿½è¸ª
â”‚       â”œâ”€â”€ database.py       # æ•°æ®å­˜å‚¨
â”‚       â”œâ”€â”€ analyzer.py       # åˆ†ææ±‡æ€»
â”‚       â””â”€â”€ menu_bar.py       # Menu Bar åº”ç”¨
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

## ğŸ—„ï¸ æ•°æ®å­˜å‚¨

æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ `~/.ominime/` ç›®å½•ï¼š

- `ominime.db` - SQLite æ•°æ®åº“
- `config.json` - é…ç½®æ–‡ä»¶
- `logs/` - æ—¥å¿—ç›®å½•

### æ•°æ®åº“è¡¨ç»“æ„

```sql
-- è¾“å…¥è®°å½•è¡¨
input_records (
    timestamp, app_name, app_bundle_id, 
    display_name, content, char_count, 
    session_id, duration_seconds
)

-- æ¯æ—¥åº”ç”¨æ±‡æ€»
daily_summaries (
    date, app_name, total_chars, 
    session_count, content_summary, suggestions
)

-- å…¨å±€æ¯æ—¥æ±‡æ€»
global_daily_summaries (
    date, total_chars, total_apps, 
    main_activities, summary, suggestions
)
```

## ğŸ”’ éšç§è¯´æ˜

- **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨æœ¬åœ° `~/.ominime/` ç›®å½•
- **æ— ç½‘ç»œä¼ è¾“**: é™¤éå¯ç”¨ AI åŠŸèƒ½ï¼Œå¦åˆ™ä¸è¿›è¡Œä»»ä½•ç½‘ç»œé€šä¿¡
- **å¯é€‰ AI**: AI æ€»ç»“åŠŸèƒ½å¯é€‰ï¼Œéœ€æ‰‹åŠ¨å¯ç”¨
- **å®Œå…¨æ§åˆ¶**: ä½ å¯ä»¥éšæ—¶æš‚åœè®°å½•ã€åˆ é™¤æ•°æ®

## ğŸ› ï¸ å¼€å‘

```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[ai]"

# è¿è¡Œæµ‹è¯•
python -m ominime.keyboard_listener  # æµ‹è¯•é”®ç›˜ç›‘å¬
python -m ominime.database           # æµ‹è¯•æ•°æ®åº“
python -m ominime.analyzer           # æµ‹è¯•åˆ†æå™¨
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2026-01-08)
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ… å…¨å±€é”®ç›˜ç›‘å¬
- âœ… åº”ç”¨è¯†åˆ«
- âœ… SQLite æ•°æ®å­˜å‚¨
- âœ… æ¯æ—¥æŠ¥å‘Šç”Ÿæˆ
- âœ… Menu Bar åº”ç”¨
- âœ… å‘½ä»¤è¡Œç•Œé¢

## ğŸ“„ License

MIT License

---

**OmniMe** - äº†è§£ä½ çš„æ—¶é—´éƒ½èŠ±åœ¨å“ªé‡Œ âŒ¨ï¸

